<div class="embrello-board">
	<div class="embrello-board-header">
		<button type="button" class="btn embrello-btn embrello-refresh"><i class="fa fa-refresh"></i></button>
		<i class="fa fa-exclamation-triangle embrello-filterwarning embrello-color-lessimportant"
				data-bind="tooltip: { text: localize.App_Embrello.tooltipFilter, placement: 'bottom' },
							visible: board().filterApplied"></i>
		<span class="embrello-board-header-title embrello-color-title" data-bind="text: board().name"></span>
		<span class="embrello-color-positive" data-bind="text: board().sumPositive"></span>
		<span class="embrello-board-header-unit embrello-color-positive" data-bind="text: board().sumUnit"></span>
		<span class="embrello-board-header-negativesum embrello-color-negative" data-bind="visible: board().sumNegative > 0">
			<span class="embrello-parenthesis">(</span>
			<span class="" data-bind="text: board().sumNegative"></span>
			<span class="embrello-board-header-unit" data-bind="text: board().sumUnit"></span>
			<span class="embrello-parenthesis">)</span>
		</span>
	</div>
	<div class="embrello-lanes-container" data-bind="foreach: board().lanes()">
		<div class="embrello-lane-container">
			<div class="embrello-lane">
				<div class="embrello-lane-header">
					<div class="embrello-lane-title embrello-color-title" data-bind="text: name"></div>
					<div class="embrello-lane-info">
						<span class="embrello-lane-count embrello-color-lessimportant"
								data-bind="text: cards().length + ' ' + (cards().length === 1 ? $parent.board().localNameSingular.toLowerCase() : $parent.board().localNamePlural.toLowerCase()) + (cards().length > 0 ? ': ' : '')"></span>
						<span data-bind="visible: (cards().length > 0)">
							<span class="embrello-lane-sum" data-bind="text: sum,
																		css: {
																			'embrello-color-positive' : positiveSummation,
																			'embrello-color-negative' : !positiveSummation
																		}"></span>
							<span class="embrello-lane-sum-unit" data-bind="text: $parent.board().sumUnit,
																			css: {
																				'embrello-color-positive' : positiveSummation,
																				'embrello-color-negative' : !positiveSummation
																			}"></span>
						</span>
					</div>
					<div class="embrello-lane-coloredbar" data-bind="css: 'embrello-color-' + color"></div>
				</div>
				<div data-bind="foreach: cards()">
					<div class="embrello-card" data-bind="click: function() { $root.openLIMERecord(link) }">
						<div class="embrello-card-leftside">
					    	<div class="embrello-card-icon">
					    		<div class="embrello-donut" data-bind="donut: { value : angle() }, visible: $parent.cardIcon === 'completion' && completionRate >= 0">
									<div class="embrello-donut-master embrello-color-lessimportant-background"></div>
									<div class="embrello-donut-slice">
										<div class="embrello-donut-inner embrello-color-positive-background"></div>
									</div>
									<div class="embrello-donut-endmarker"></div>
									<div class="embrello-donut-cover embrello-color-title">
										<span data-bind="text: completionRate,
															css: { 'embrello-donut-cover-smalltext': completionRate === 100 }"></span>
										<span class="embrello-donut-cover-percentsign">%</span>
									</div>
									<div class="embrello-donut-startmarker"></div>
								</div>
					    		<img class="svg embrello-card-icon-image" src="apps/Embrello/resources/happy.svg"
					    				data-bind="style: { fill: $parent.colorHex}, visible: $parent.cardIcon === 'happy'"/>
					    		<img class="svg embrello-card-icon-image" src="apps/Embrello/resources/wait.svg"
					    				data-bind="style: { fill: $parent.colorHex}, visible: $parent.cardIcon === 'wait'"/>
					    		<img class="svg embrello-card-icon-image" src="apps/Embrello/resources/sad.svg"
					    				data-bind="style: { fill: $parent.colorHex}, visible: $parent.cardIcon === 'sad'"/>
					    	</div>
					    </div>
						<div class="embrello-card-rightside">
							<div class="embrello-card-title embrello-color-title" data-bind="text: title"></div>
							<div class="embrello-card-inforow">
						    	<span class="embrello-card-value" data-bind="text: value,
						    													css: {
						    														'embrello-color-positive' : $parent.positiveSummation,
						    														'embrello-color-negative' : !$parent.positiveSummation
						    													}"></span>
								<span class="embrello-card-value-unit" data-bind="text: $root.board().cardValueUnit,
																					css: {
																						'embrello-color-positive' : $parent.positiveSummation,
																						'embrello-color-negative' : !$parent.positiveSummation
																					}"></span>
								<span data-bind="visible: additionalInfo !== ''">
									<span class="embrello-card-additionalinfo-separator embrello-color-title">-</span>
									<span class="embrello-card-additionalinfo embrello-color-title" data-bind="text: additionalInfo"></span>
								</span>
							</div>
					    	<div class="embrello-card-owner embrello-color-lessimportant" data-bind="text: owner"></div>
					    </div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="embrello-notactivated-container">
	<i class="fa fa-exclamation-triangle embrello-notactivated-icon embrello-color-title"></i>
	<div class="embrello-notactivated embrello-color-title" data-bind="text: localize.App_Embrello.notActivated">
	</div>
	<button type="button" class="btn embrello-btn embrello-refresh" ><i class="fa fa-refresh"></i></button>
</div>
